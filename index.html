<!doctype html>
<html class="flex w-full h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        input[type=text] {
            border: 2px solid #aaa;
            border-radius: 4px;
            outline: none;
            box-sizing: border-box;
            transition: .3s;
        }

        input[type=text]:focus {
            border-color: dodgerBlue;
            box-shadow: 0 0 8px 0 dodgerBlue;
        }

        .button {
            width: 170px;
            padding-top: 30px;
            padding-bottom: 30px;
            text-align: center;
            color: #000;
            text-transform: uppercase;
            font-weight: 600;
            margin-top: 30px;
            cursor: pointer;
            display: inline-block;
        }

        .button-1 {
            background-color: transparent;
            border: 3px solid #00d7c3;
            border-radius: 50px;
            -webkit-transition: all .15s ease-in-out;
            transition: all .15s ease-in-out;
            color: #00d7c3;
        }

        .button-1:hover {
            box-shadow: 0 0 10px 0 #00d7c3 inset, 0 0 20px 2px #00d7c3;
            border: 3px solid #00d7c3;
        }

        .button-2 {
            color: #fff;
            border: 3px solid #c266d3;
            background-image: -webkit-linear-gradient(30deg, #c266d3 50%, transparent 50%);
            background-image: linear-gradient(30deg, #c266d3 50%, transparent 50%);
            background-size: 500px;
            background-repeat: no-repeat;
            background-position: 0%;
            -webkit-transition: background 300ms ease-in-out;
            transition: background 300ms ease-in-out;
        }

        .button-2:hover {
            background-position: 100%;
            color: #c266d3;
        }

        .button-3 {
            border: 2px solid #3c73ff;
            background-color: #3c73ff;
            border-radius: 20px;
            color: #fff;
            transition: .3s;
        }

        .button-3:hover {
            box-shadow: 8px 8px #99bdff;
            transition: .3s;
        }

        @-webkit-keyframes loader {
            0% {
                width: 0;
            }

            20% {
                width: 10%;
            }

            25% {
                width: 24%;
            }

            43% {
                width: 41%;
            }

            56% {
                width: 50%;
            }

            66% {
                width: 52%;
            }

            71% {
                width: 60%;
            }

            75% {
                width: 76%;
            }

            94% {
                width: 86%;
            }

            100% {
                width: 100%;
            }
        }

        @keyframes loader {
            0% {
                width: 0;
            }

            20% {
                width: 10%;
            }

            25% {
                width: 24%;
            }

            43% {
                width: 41%;
            }

            56% {
                width: 50%;
            }

            66% {
                width: 52%;
            }

            71% {
                width: 60%;
            }

            75% {
                width: 76%;
            }

            94% {
                width: 86%;
            }

            100% {
                width: 100%;
            }
        }

        @-webkit-keyframes loader {
            0% {
                width: 0;
            }

            20% {
                width: 10%;
            }

            25% {
                width: 24%;
            }

            43% {
                width: 41%;
            }

            56% {
                width: 50%;
            }

            66% {
                width: 52%;
            }

            71% {
                width: 60%;
            }

            75% {
                width: 76%;
            }

            94% {
                width: 86%;
            }

            100% {
                width: 100%;
            }
        }

        @keyframes loader {
            0% {
                width: 0;
            }

            20% {
                width: 10%;
            }

            25% {
                width: 24%;
            }

            43% {
                width: 41%;
            }

            56% {
                width: 50%;
            }

            66% {
                width: 52%;
            }

            71% {
                width: 60%;
            }

            75% {
                width: 76%;
            }

            94% {
                width: 86%;
            }

            100% {
                width: 100%;
            }
        }

        .progress-bar {
            border-radius: 60px;
            overflow: hidden;
            width: 100%;
        }

        .progress-bar span {
            display: block;
        }

        .bar {
            background: rgba(0, 0, 0, 0.075);
        }

        .progress {
            -webkit-animation: loader 8s ease infinite;
            animation: loader 8s ease infinite;
            background: #75b800;
            color: #fff;
            padding: 5px;
            width: 0;
        }

        .progress-bar {
            left: 50%;
            max-width: 50%;
            position: absolute;
            transform: translate3d(-50%, -50%, 0);
        }
    </style>
</head>

<body class="flex w-full h-full">
    <div class="flex-col w-full h-full my-10">
        <h1 class="flex text-2xl justify-center">
            Welcome to FakeChatGPT ðŸ˜±
        </h1>
        <br>
        <br>
        <h3 class="flex text-md justify-center">
            Copy and past the command below in your terminal to run the FakeChatGPT Server on your computer! ðŸ§¨
        </h3>
        <div class="flex text-md text-center justify-center italic font-bold">
            bash <(curl -s https://raw.githubusercontent.com/ArchanaJeyagaran/FakeChatGPT/main/run.sh) </div> <br>
                <br>
                <div class="flex w-full justify-center">
                    <input class="flex w-1/2 h-12 justify-center" type="text"
                        placeholder="  Ask FakeChatGPT your question!" id="question">
                </div>
                <br>
                <br>
                <div class="flex w-full justify-center text-center">
                    <div class="button button-3" onclick="makeAPICall()">Ask FakeChatGPT</div>
                </div>
                <br>
                <br>
                <div class="flex w-full justify-center">FakeChatGPT Says... (Give it ~45 seconds)</div>
                <div class="flex w-full justify-center" id="resp"></div>
                <br>
                <br>
                <div id="lolol" class="progress-bar hidden">
                    <span class="bar">
                        <span class="progress"></span>
                    </span>
                </div>
        </div>

        <script>
            const makeAPICall = async () => {
                var element = document.getElementById("lolol");
                element.classList.remove("hidden");
                let questionToAsk = document.getElementById("question").value;
                const theBody = {
                    question: questionToAsk
                }

                //document.getElementById("lolol").style += "-webkit-animation: loader 45s ease infinite;animation: loader 45s ease infinite; max-width: 50%;left: 50%;position: absolute;transform: translate3d(-50%, -50%, 0); border-radius: 60px; overflow: hidden;width: 100%;"
                const response = await fetch('http://127.0.0.1:8080/ask', {
                    method: 'POST',
                    body: JSON.stringify(theBody), // string or object
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                const myJson = await response.json(); //extract JSON from the http response
                document.getElementById('resp').innerText = myJson['answer'][0];
                var element = document.getElementById("lolol");
                element.classList.add("hidden");
                // do something with myJson
            }
        </script>
</body>

</html>